<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Nonogram Solver: Nonogram Solver</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Nonogram Solver
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Nonogram Solver </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="md_README"></a> <a href="https://github.com/stevengogogo/NonogramSolver/actions/workflows/ci.yml"><img src="https://github.com/stevengogogo/NonogramSolver/actions/workflows/ci.yml/badge.svg" alt="Ubuntu" style="pointer-events: none;" class="inline"/></a><a href="https://codecov.io/gh/stevengogogo/NonogramSolver"><img src="https://codecov.io/gh/stevengogogo/NonogramSolver/branch/main/graph/badge.svg?token=5F6B6C9M1K" alt="codecov" style="pointer-events: none;" class="inline"/></a><a href="https://github.com/stevengogogo/NonogramSolver/actions/workflows/doc.yml"><img src="https://github.com/stevengogogo/NonogramSolver/actions/workflows/doc.yml/badge.svg" alt="Doxygen Action" style="pointer-events: none;" class="inline"/></a><a href="https://stevengogogo.github.io/NonogramSolver/"><img src="https://img.shields.io/badge/docs-dev-blue.svg" alt="Dev" style="pointer-events: none;" class="inline"/></a></p>
<p><img src="https://user-images.githubusercontent.com/29009898/110197098-19e2aa00-7e84-11eb-8e0c-396e6a0056a3.png" alt="" class="inline"/></p>
<h1><a class="anchor" id="autotoc_md1"></a>
Greedy Alogrithm</h1>
<p><img src="https://user-images.githubusercontent.com/29009898/111065412-813bd200-84f4-11eb-9a3b-3383689e0812.png" alt="" class="inline"/></p>
<h1><a class="anchor" id="autotoc_md2"></a>
How to measure the number of segments?</h1>
<ul>
<li>Fills on the edge doesn't count</li>
</ul>
<p>|Line|# Segments|Fills|Holes| |&mdash;|&mdash;|&mdash;|&mdash;|&mdash;| |<code>[0,0,0,0]</code>|0|<code>[]</code>|<code>[1,2,3,4]</code>| |<code>[1,0,0,0]</code>|1|<code>[0]</code>|<code>[2,3,4]</code>| |<code>[1,1,0,0]</code>|1|<code>[0,1]</code>|<code>[2,3]</code>| |<code>[0,0,1,0]</code>|1|<code>[2]</code>|<code>[0,1,3]</code>| |<code>[1,0,1,0]</code>|2|<code>[0,2]</code>|<code>[1,3]</code>| |<code>[0,1,1,0]</code>|1|<code>[1,2]</code>|<code>[0,3]</code>| |<code>[1,1,1,0]</code>|1|<code>[0,1,2]</code>|<code>[3]</code>| |<code>[0,0,0,1]</code>|1|<code>[3]</code>|<code>[0,1,2]</code>| |<code>[1,0,0,1]</code>|2|<code>[0,3]</code>|<code>[1,2]</code>| |<code>[0,1,0,1]</code>|2|<code>[1,3]</code>|<code>[0,2]</code>| |<code>[1,1,0,1]</code>|2|<code>[0,1,3]</code>|<code>[2]</code>| |<code>[0,0,1,1]</code>|1|<code>[2,3]</code>|<code>[0,1]</code>| |<code>[1,0,1,1]</code>|2|<code>[0,2,3]</code>|<code>[1]</code>| |<code>[0,1,1,1]</code>|1|<code>[1,2,3]</code>|<code>[0]</code>| |<code>[1,1,1,1]</code>|1|<code>[0,1,2,3]</code>|<code>[]</code>|</p>
<ul>
<li>Need a function that <code>f(arrFills) = # of segments</code><ul>
<li>idea ON-OFF flip flop<ul>
<li>Add one when <code>0-&gt;1</code> occurs; reset when <code>1-&gt;0</code></li>
<li>Time complexity: O(n)</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="fragment"><div class="line">#Julia</div>
<div class="line">function seg_conunt(arr)</div>
<div class="line">  count = 0 </div>
<div class="line">  n_seg = 0</div>
<div class="line">  for i in arr</div>
<div class="line">    if count == 0</div>
<div class="line">      if i == 1</div>
<div class="line">        count = 1</div>
<div class="line">        n_seg += 1</div>
<div class="line">      end</div>
<div class="line">    else</div>
<div class="line">      if i == 0</div>
<div class="line">        count = 0</div>
<div class="line">      end</div>
<div class="line">    end</div>
<div class="line">  end</div>
<div class="line"> </div>
<div class="line">  return n_seg</div>
<div class="line">end</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md3"></a>
Create 2D array with double pointer and one malloc call</h1>
<div class="fragment"><div class="line"><span class="preprocessor">#include&lt;stdio.h&gt;</span> </div>
<div class="line"><span class="preprocessor">#include&lt;stdlib.h&gt;</span> </div>
<div class="line">  </div>
<div class="line"><span class="keywordtype">int</span> main() </div>
<div class="line">{ </div>
<div class="line">    <span class="keywordtype">int</span> r=3, c=4, len=0; </div>
<div class="line">    <span class="keywordtype">int</span> *ptr, **arr; </div>
<div class="line">    <span class="keywordtype">int</span> count = 0,i,j; </div>
<div class="line">  </div>
<div class="line">    len = <span class="keyword">sizeof</span>(<span class="keywordtype">int</span> *) * r + <span class="keyword">sizeof</span>(<span class="keywordtype">int</span>) * c * r; </div>
<div class="line">    arr = (<span class="keywordtype">int</span> **)malloc(len); </div>
<div class="line">  </div>
<div class="line">    <span class="comment">// ptr is now pointing to the first element in of 2D array </span></div>
<div class="line">    ptr = (<span class="keywordtype">int</span> *)(arr + r); </div>
<div class="line">  </div>
<div class="line">    <span class="comment">// for loop to point rows pointer to appropriate location in 2D array </span></div>
<div class="line">    <span class="keywordflow">for</span>(i = 0; i &lt; r; i++) </div>
<div class="line">        arr[i] = (ptr + c * i); </div>
<div class="line">  </div>
<div class="line">    <span class="keywordflow">for</span> (i = 0; i &lt; r; i++) </div>
<div class="line">        <span class="keywordflow">for</span> (j = 0; j &lt; c; j++) </div>
<div class="line">            arr[i][j] = ++count; <span class="comment">// OR *(*(arr+i)+j) = ++count </span></div>
<div class="line">  </div>
<div class="line">    <span class="keywordflow">for</span> (i = 0; i &lt; r; i++) </div>
<div class="line">        <span class="keywordflow">for</span> (j = 0; j &lt; c; j++) </div>
<div class="line">            printf(<span class="stringliteral">&quot;%d &quot;</span>, arr[i][j]); </div>
<div class="line">  </div>
<div class="line">    <span class="keywordflow">return</span> 0; </div>
<div class="line">} </div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md4"></a>
Git tag</h1>
<ul>
<li>Add tag ```sh git tag -a v0.0.1 -m "my version 1.4" ```</li>
<li>Push tag ```sh git push origin v0.0.1 ```</li>
</ul>
<h1><a class="anchor" id="autotoc_md5"></a>
Header files</h1>
<blockquote class="doxtable">
<p>It is not recommended to put function definitions in a header file. Ideally there should be only function declarations. Purpose of this code is to only demonstrate working of header files. </p>
</blockquote>
<h1><a class="anchor" id="autotoc_md6"></a>
Implementation of dynamic 1D array</h1>
<div class="fragment"><div class="line"><span class="keyword">typedef</span> <span class="keyword">struct </span>{</div>
<div class="line">  <span class="keywordtype">int</span> *array;</div>
<div class="line">  <span class="keywordtype">size_t</span> used;</div>
<div class="line">  <span class="keywordtype">size_t</span> size;</div>
<div class="line">} Array;</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">void</span> initArray(Array *a, <span class="keywordtype">size_t</span> initialSize) {</div>
<div class="line">  a-&gt;array = malloc(initialSize * <span class="keyword">sizeof</span>(<span class="keywordtype">int</span>));</div>
<div class="line">  a-&gt;used = 0;</div>
<div class="line">  a-&gt;size = initialSize;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">void</span> insertArray(Array *a, <span class="keywordtype">int</span> element) {</div>
<div class="line">  <span class="comment">// a-&gt;used is the number of used entries, because a-&gt;array[a-&gt;used++] updates a-&gt;used only *after* the array has been accessed.</span></div>
<div class="line">  <span class="comment">// Therefore a-&gt;used can go up to a-&gt;size </span></div>
<div class="line">  <span class="keywordflow">if</span> (a-&gt;used == a-&gt;size) {</div>
<div class="line">    a-&gt;size *= 2;</div>
<div class="line">    a-&gt;array = realloc(a-&gt;array, a-&gt;size * <span class="keyword">sizeof</span>(<span class="keywordtype">int</span>));</div>
<div class="line">  }</div>
<div class="line">  a-&gt;array[a-&gt;used++] = element;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">void</span> freeArray(Array *a) {</div>
<div class="line">  free(a-&gt;array);</div>
<div class="line">  a-&gt;array = NULL;</div>
<div class="line">  a-&gt;used = a-&gt;size = 0;</div>
<div class="line">}</div>
</div><!-- fragment --><p>Usage</p>
<div class="fragment"><div class="line">Array a;</div>
<div class="line"><span class="keywordtype">int</span> i;</div>
<div class="line"> </div>
<div class="line">initArray(&amp;a, 5);  <span class="comment">// initially 5 elements</span></div>
<div class="line"><span class="keywordflow">for</span> (i = 0; i &lt; 100; i++)</div>
<div class="line">  insertArray(&amp;a, i);  <span class="comment">// automatically resizes as necessary</span></div>
<div class="line">printf(<span class="stringliteral">&quot;%d\n&quot;</span>, a.array[9]);  <span class="comment">// print 10th element</span></div>
<div class="line">printf(<span class="stringliteral">&quot;%d\n&quot;</span>, a.used);  <span class="comment">// print number of elements</span></div>
<div class="line">freeArray(&amp;a);</div>
</div><!-- fragment --><p> <a href="https://stackoverflow.com/questions/3536153/c-dynamically-growing-array">https://stackoverflow.com/questions/3536153/c-dynamically-growing-array</a></p>
<p>Use <code>realloc</code> to increase or shrink the size.</p>
<h1><a class="anchor" id="autotoc_md7"></a>
How to read line in a file</h1>
<div class="fragment"><div class="line"><span class="keywordtype">void</span> read_file(<span class="keywordtype">void</span>){</div>
<div class="line"> </div>
<div class="line">    FILE *stream = fopen(<span class="stringliteral">&quot;test/data/output_1.txt&quot;</span>, <span class="stringliteral">&quot;r&quot;</span>);</div>
<div class="line">    <span class="keywordtype">char</span> line[80];</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">while</span> ((fscanf(stream, <span class="stringliteral">&quot;%[^\n]&quot;</span>, line))!= EOF)</div>
<div class="line">    {</div>
<div class="line">        fgetc(stream); <span class="comment">// Reads in &#39;\n&#39; character and moves file</span></div>
<div class="line">        <span class="comment">// stream past delimiting character</span></div>
<div class="line">        printf(<span class="stringliteral">&quot;%s \n&quot;</span>, line);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    fclose(stream);</div>
<div class="line">}</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md8"></a>
Reference</h1>
<ol type="1">
<li>2D array construction. [<a href="https://www.geeksforgeeks.org/dynamically-allocate-2d-array-c/">GreekforGeek</a>]</li>
<li>Git tag. [<a href="https://git-scm.com/book/zh-tw/v2/Git-%E5%9F%BA%E7%A4%8E-%E6%A8%99%E7%B1%A4">Blog</a>]</li>
<li>Integer to string: <code>itoa</code>. [<a href="https://www.cnblogs.com/oomusou/archive/2007/01/06/613413.html">Blog</a>]</li>
<li>Compare with <code>memcpy</code> [<a href="http://tw.gitbook.net/c_standard_library/c_function_memcmp.html">Tutorial</a>]<ul>
<li>不能用於 struct [<a href="https://stackoverflow.com/questions/141720/how-do-you-compare-structs-for-equality-in-c">reason</a>]</li>
</ul>
</li>
<li>Memory management in C [<a href="https://www.guru99.com/c-dynamic-memory-allocation.html#5">tutorial</a>]</li>
<li>fscanf: reading file in C. [<a href="https://www.geeksforgeeks.org/scanf-and-fscanf-in-c-simple-yet-poweful/">greekforgeek</a>]</li>
<li>How to pass 2D array. [<a href="https://www.geeksforgeeks.org/pass-2d-array-parameter-c/">GreekforGeek</a>] </li>
</ol>
</div></div><!-- PageDoc -->
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
